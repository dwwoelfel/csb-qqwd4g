{"version":3,"sources":["App.js","index.js"],"names":["Main","data","useQuery","puns","useState","punText","setPunText","state","setState","style","margin","width","fontFamily","onChange","e","target","value","cols","rows","onClick","trim","punId","id","transact","tx","update","text","marginTop","map","d","App","useInit","appId","websocketURI","apiURI","isLoading","error","message","rootElement","document","getElementById","createRoot","render"],"mappings":"0JA2BA,SAASA,IACP,IAAMC,EAAOC,YAAS,CAAEC,KAAM,CAAC,IAC/B,EAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0BF,mBAAS,cAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,OACE,sBAAKC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,KAArC,UACE,wDACW,eAAVJ,EACC,qCACE,sEADF,IACiD,uBAC/C,4BACE,0BACEE,MAAO,CAAEG,WAAY,cACrBC,SAAU,SAACC,GAAD,OAAOR,EAAWQ,EAAEC,OAAOC,MAA3B,EACVC,KAAM,GACNC,KAAM,OAGV,wBACEC,QAAS,SAACL,GACR,GAAIT,GAAWA,EAAQe,OAAQ,CAC7B,IAAMC,EAAQC,cAEdC,YAAS,CAACC,IAAGrB,KAAKkB,GAAOI,OAAO,CAAEC,KAAMrB,MACxCC,EAAW,IACXE,EAAS,SACV,CACF,EATH,uBAcA,KACO,WAAVD,EACC,mCACE,4DAEA,KACO,SAAVA,EACC,mCACE,qBAAKE,MAAO,CAAEkB,UAAW,IAAzB,SACE,wBAAQR,QAAS,kBAAMX,EAAS,OAAf,EAAjB,kCAGF,KACO,SAAVD,EACC,mCACE,gCACGN,EAAKE,KAAKyB,KAAI,SAACC,GAAD,OACb,4BAAeA,EAAEH,MAATG,EAAEP,GADG,IAGf,qBAAKb,MAAO,CAAEkB,UAAW,IAAzB,SACE,wBAAQR,QAAS,kBAAMX,EAAS,aAAf,EAAjB,qCAMJ,OAGT,CAEcsB,MAlFf,WAEE,MAA2BC,YAAQ,CACjCC,MALW,uCAMXC,aAAc,yCACdC,OAAQ,6CAHV,mBAAOC,EAAP,KAAkBC,EAAlB,KAKA,OAAID,EACK,sCAELC,EACK,8CAAUA,QAAV,IAAUA,OAAV,EAAUA,EAAOC,WAEnB,cAACrC,EAAD,GACR,ECjBKsC,EAAcC,SAASC,eAAe,QAC/BC,qBAAWH,GAEnBI,OACH,cAAC,aAAD,UACE,cAAC,EAAD,M","file":"static/js/main.7e57dd04.chunk.js","sourcesContent":["import { useState } from \"react\";\n\n// 1. Import Instant\nimport { useInit, useQuery, tx, transact, id } from \"instant-local-throwaway\";\n\n// 2. Get your app id\nconst APP_ID = \"698e42a5-2a0f-43b5-94d6-1316dcdf1ae5\";\n\nfunction App() {\n  // 3. Init\n  const [isLoading, error] = useInit({\n    appId: APP_ID,\n    websocketURI: \"wss://instant-server.herokuapp.com/api\",\n    apiURI: \"https://instant-server.herokuapp.com/api\"\n  });\n  if (isLoading) {\n    return <div>...</div>;\n  }\n  if (error) {\n    return <div>Oi! {error?.message}</div>;\n  }\n  return <Main />;\n}\n\n// 5. Make queries to your heart's content!\n// Checkout InstaQL for examples\n// https://paper.dropbox.com/doc/InstaQL--BgBK88TTiSE9OV3a17iCwDjCAg-yVxntbv98aeAovazd9TNL\nfunction Main() {\n  const data = useQuery({ puns: {} });\n  const [punText, setPunText] = useState(\"\");\n  const [state, setState] = useState(\"submission\");\n  return (\n    <div style={{ margin: \"auto\", width: 720 }}>\n      <h1>Welcome to Pundumpster</h1>\n      {state === \"submission\" ? (\n        <>\n          <div>Submit a pun for a free pun rating.</div> <br />\n          <p>\n            <textarea\n              style={{ fontFamily: \"sans-serif\" }}\n              onChange={(e) => setPunText(e.target.value)}\n              cols={80}\n              rows={10}\n            />\n          </p>\n          <button\n            onClick={(e) => {\n              if (punText && punText.trim()) {\n                const punId = id();\n\n                transact([tx.puns[punId].update({ text: punText })]);\n                setPunText(\"\");\n                setState(\"rating\");\n              }\n            }}\n          >\n            Submit\n          </button>\n        </>\n      ) : null}\n      {state === \"rating\" ? (\n        <>\n          <div>Ugh, that was terrible.</div>\n        </>\n      ) : null}\n      {state !== \"view\" ? (\n        <>\n          <div style={{ marginTop: 20 }}>\n            <button onClick={() => setState(\"view\")}>View submissions</button>\n          </div>\n        </>\n      ) : null}\n      {state === \"view\" ? (\n        <>\n          <div>\n            {data.puns.map((d) => (\n              <p key={d.id}>{d.text}</p>\n            ))}\n            <div style={{ marginTop: 20 }}>\n              <button onClick={() => setState(\"submission\")}>\n                Contribute a pun\n              </button>\n            </div>\n          </div>\n        </>\n      ) : null}\n    </div>\n  );\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}